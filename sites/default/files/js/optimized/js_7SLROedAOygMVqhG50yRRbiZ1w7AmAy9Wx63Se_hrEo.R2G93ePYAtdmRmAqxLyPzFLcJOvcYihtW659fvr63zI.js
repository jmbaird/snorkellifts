/* Source and licensing information for the line(s) below can be found at http://www.snorkellifts.com/core/misc/position.js. */
(function(t){var o=null,l=Math.max,e=Math.abs,f=/left|center|right/,s=/top|center|bottom/,r=/[+-]\d+(\.[\d]+)?%?/,h=/^\w+/,a=/%$/,p=t.fn.position;function c(t,e,i){return[parseFloat(t[0])*(a.test(t[0])?e/100:1),parseFloat(t[1])*(a.test(t[1])?i/100:1)]};function n(e,i){return parseInt(t.css(e,i),10)||0};function g(e){var i=e[0];if(i.nodeType===9){return{width:e.width(),height:e.height(),offset:{top:0,left:0}}};if(t.isWindow(i)){return{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}};if(i.preventDefault){return{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}};return{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}};var i={fit:{left:function(t,e){var f=e.within,o=f.isWindow?f.scrollLeft:f.offset.left,s=f.width,r=t.left-e.collisionPosition.marginLeft,i=o-r,n=r+e.collisionWidth-s-o,h;if(e.collisionWidth>s){if(i>0&&n<=0){h=t.left+i+e.collisionWidth-s-o;t.left+=i-h}
else if(n>0&&i<=0){t.left=o}
else if(i>n){t.left=o+s-e.collisionWidth}
else{t.left=o}}
else if(i>0){t.left+=i}
else if(n>0){t.left-=n}
else{t.left=l(t.left-r,t.left)}},top:function(t,e){var s=e.within,o=s.isWindow?s.scrollTop:s.offset.top,f=e.within.height,r=t.top-e.collisionPosition.marginTop,i=o-r,n=r+e.collisionHeight-f-o,h;if(e.collisionHeight>f){if(i>0&&n<=0){h=t.top+i+e.collisionHeight-f-o;t.top+=i-h}
else if(n>0&&i<=0){t.top=o}
else if(i>n){t.top=o+f-e.collisionHeight}
else{t.top=o}}
else if(i>0){t.top+=i}
else if(n>0){t.top-=n}
else{t.top=l(t.top-r,t.top)}}},flip:{left:function(t,i){var o=i.within,d=o.offset.left+o.scrollLeft,a=o.width,s=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-i.collisionPosition.marginLeft,p=c-s,g=c+i.collisionWidth-a-s,l=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,n=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,f=-2*i.offset[0],r,h;if(p<0){r=t.left+l+n+f+i.collisionWidth-a-d;if(r<0||r<e(p)){t.left+=l+n+f}}
else if(g>0){h=t.left-i.collisionPosition.marginLeft+l+n+f-s;if(h>0||e(h)<g){t.left+=l+n+f}}},top:function d(t,i){var o=i.within,u=o.offset.top+o.scrollTop,a=o.height,s=o.isWindow?o.scrollTop:o.offset.top,c=t.top-i.collisionPosition.marginTop,p=c-s,g=c+i.collisionHeight-a-s,d=i.my[1]==="top",l=d?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,n=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,f=-2*i.offset[1],r,h;if(p<0){h=t.top+l+n+f+i.collisionHeight-a-u;if(h<0||h<e(p)){t.top+=l+n+f}}
else if(g>0){r=t.top-i.collisionPosition.marginTop+l+n+f-s;if(r>0||e(r)<g){t.top+=l+n+f}}}},flipfit:{left:function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++){e[t]=arguments[t]};i.flip.left.apply(this,e);i.fit.left.apply(this,e)},top:function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++){e[t]=arguments[t]};i.flip.top.apply(this,e);i.fit.top.apply(this,e)}}};t.position={scrollbarWidth:function(){if(o!==undefined){return o};var e=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=e.children()[0];t("body").append(e);var l=n.offsetWidth;e.css("overflow","scroll");var i=n.offsetWidth;if(l===i){i=e[0].clientWidth};e.remove();o=l-i;return o},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),o=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),l=i==="scroll"||i==="auto"&&e.width<e.element[0].scrollWidth,n=o==="scroll"||o==="auto"&&e.height<e.element[0].scrollHeight;return{width:n?t.position.scrollbarWidth():0,height:l?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),o=t.isWindow(i[0]),l=!!i[0]&&i[0].nodeType===9,n=!o&&!l;return{element:i,isWindow:o,isDocument:l,offset:n?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}};t.fn.position=function(o){if(!o||!o.of){return p.apply(this,arguments)};o=t.extend({},o);var T=t.position.getWithinInfo(o.within),b=t.position.getScrollInfo(T),w=(o.collision||"flip").split(" "),H={};var W=typeof o.of==="string"?t(document).find(o.of):t(o.of),y=g(W),a=y.width,d=y.height,m=y.offset;if(W[0].preventDefault){o.at="left top"};var u=t.extend({},m);t.each(["my","at"],function(){var t=(o[this]||"").split(" ");if(t.length===1){t=f.test(t[0])?t.concat(["center"]):s.test(t[0])?["center"].concat(t):["center","center"]};t[0]=f.test(t[0])?t[0]:"center";t[1]=s.test(t[1])?t[1]:"center";var e=r.exec(t[0]),i=r.exec(t[1]);H[this]=[e?e[0]:0,i?i[0]:0];o[this]=[h.exec(t[0])[0],h.exec(t[1])[0]]});if(w.length===1){w[1]=w[0]};if(o.at[0]==="right"){u.left+=a}
else if(o.at[0]==="center"){u.left+=a/2};if(o.at[1]==="bottom"){u.top+=d}
else if(o.at[1]==="center"){u.top+=d/2};var v=c(H.at,a,d);u.left+=v[0];u.top+=v[1];return this.each(function(){var g,s=t(this),r=s.outerWidth(),h=s.outerHeight(),y=n(this,"marginLeft"),x=n(this,"marginTop"),P=r+y+n(this,"marginRight")+b.width,D=h+x+n(this,"marginBottom")+b.height,f=t.extend({},u);var p=c(H.my,s.outerWidth(),s.outerHeight());if(o.my[0]==="right"){f.left-=r}
else if(o.my[0]==="center"){f.left-=r/2};if(o.my[1]==="bottom"){f.top-=h}
else if(o.my[1]==="center"){f.top-=h/2};f.left+=p[0];f.top+=p[1];var L={marginLeft:y,marginTop:x};t.each(["left","top"],function(t,e){if(i[w[t]]){i[w[t]][e](f,{targetWidth:a,targetHeight:d,elemWidth:r,elemHeight:h,collisionPosition:L,collisionWidth:P,collisionHeight:D,offset:[v[0]+p[0],v[1]+p[1]],my:o.my,at:o.at,within:T,elem:s})}});if(o.using){g=function(t){var n=m.left-f.left,p=n+a-r,c=m.top-f.top,g=c+d-h,i={target:{element:W,left:m.left,top:m.top,width:a,height:d},element:{element:s,left:f.left,top:f.top,width:r,height:h},horizontal:p<0?"left":n>0?"right":"center",vertical:g<0?"top":c>0?"bottom":"middle"};if(a<r&&e(n+p)<a){i.horizontal="center"};if(d<h&&e(c+g)<d){i.vertical="middle"};if(l(e(n),e(p))>l(e(c),e(g))){i.important="horizontal"}
else{i.important="vertical"};o.using.call(this,t,i)}};s.offset(t.extend(f,{using:g}))})};if(!t.hasOwnProperty("ui")){t.ui={}};t.ui.position=i})(jQuery);
/* Source and licensing information for the above line(s) can be found at http://www.snorkellifts.com/core/misc/position.js. */