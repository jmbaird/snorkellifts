/* Source and licensing information for the line(s) below can be found at http://www.snorkellifts.com/modules/contrib/admin_toolbar/admin_toolbar_search/js/admin_toolbar_search.js. */
(function(t,e){'use strict';e.behaviors.adminToolbarSearch={extraFetched:!1,attach:function(a){if(a!=document){return};var i=this;const elements=once('admin-toolbar-search','#toolbar-bar',a);t(elements).each(function(){i.links=[];var o=t(this).find('#admin-toolbar-search-tab'),n=o.find('#admin-toolbar-search-input');if(n.length===0){return};n.autocomplete({minLength:2,position:{collision:'fit'},source:function(a,n){var o=i.handleAutocomplete(a.term);if(!i.extraFetched&&drupalSettings.adminToolbarSearch.loadExtraLinks){t.getJSON(e.url('admin/admin-toolbar-search'),function(e){t(e).each(function(){var t=this;t.label=this.labelRaw+' '+this.value;i.links.push(t)});i.extraFetched=!0;var o=i.handleAutocomplete(a.term);n(o)})}
else{n(o)}},open:function(){var e=t('#toolbar-item-administration-tray').css('z-index')+1;t(this).autocomplete('widget').css('z-index',e);return!1},select:function(t,e){if(e.item.value){location.href=e.item.value;return!1}}}).data('ui-autocomplete')._renderItem=(function(e,a){e.addClass('admin-toolbar-search-autocomplete-list');return t('<li>').append('<div>'+a.labelRaw+' <span class="admin-toolbar-search-url">'+a.value+'</span></div>').appendTo(e)});n.focus(function(){e.behaviors.adminToolbarSearch.populateLinks(i)});t('#admin-toolbar-mobile-search-tab .toolbar-item',a).click(function(e){e.preventDefault();t(this).toggleClass('is-active');o.toggleClass('visible');n.focus()})})},getItemLabel:function(e){var a=[];t(e).parents().each(function(){if(t(this).hasClass('menu-item')){var e=t(this).find('a:first');if(e.length&&!e.hasClass('admin-toolbar-search-ignore')){a.unshift(e.text())}}});return a.join(' > ')},handleAutocomplete:function(t){var i=this,a=t.split(' '),e=[];i.links.forEach(function(i){var o=i.label.toLowerCase();if(o.indexOf(t.toLowerCase())>=0){e.push(i)}
else{var n=0;a.forEach(function(t){if(o.indexOf(t.toLowerCase())>=0){n++}});if(n==a.length){e.push(i)}}});return e},populateLinks:function(a){if(a.links.length===0){var i=window.location,n=i.protocol+'//'+i.host+'/';t('.toolbar-tray a[data-drupal-link-system-path]').each(function(){if(this.href!==n){var t=a.getItemLabel(this);a.links.push({'value':this.href,'label':t+' '+this.href,'labelRaw':e.checkPlain(t)})}})}},}})(jQuery,Drupal);
/* Source and licensing information for the above line(s) can be found at http://www.snorkellifts.com/modules/contrib/admin_toolbar/admin_toolbar_search/js/admin_toolbar_search.js. */