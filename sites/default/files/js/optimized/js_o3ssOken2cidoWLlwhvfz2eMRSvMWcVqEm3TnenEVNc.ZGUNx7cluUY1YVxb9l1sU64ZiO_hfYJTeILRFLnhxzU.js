/* Source and licensing information for the line(s) below can be found at http://www.snorkellifts.com/core/modules/views_ui/js/views-admin.js. */
(function(e,i,t){i.viewsUi={};i.behaviors.viewsUiEditView={attach:function(){e('[data-drupal-selector="edit-query-options-disable-sql-rewrite"]').on('click',function(){e('.sql-rewrite-warning').toggleClass('js-hide')})}};i.behaviors.viewsUiAddView={attach:function(t){var s=e(t),a=new RegExp('[^a-z0-9\\-]+','g'),l='-',d,n=s.find('[id^="edit-page-title"], [id^="edit-block-title"], [id^="edit-page-link-properties-title"]');if(n.length){if(!this.fieldsFiller){this.fieldsFiller=new i.viewsUi.FormFieldFiller(n)}
else{this.fieldsFiller.rebind(n)}};var o=s.find('[id^="edit-page-path"]');if(o.length){if(!this.pathFiller){this.pathFiller=new i.viewsUi.FormFieldFiller(o,a,l)}
else{this.pathFiller.rebind(o)}};var r=s.find('[id^="edit-page-feed-properties-path"]');if(r.length){if(!this.feedFiller){d='.xml';this.feedFiller=new i.viewsUi.FormFieldFiller(r,a,l,d)}
else{this.feedFiller.rebind(r)}}}};i.viewsUi.FormFieldFiller=function(i,t,o,s){this.source=e('#edit-label');this.target=i;this.exclude=t||!1;this.replace=o||'';this.suffix=s||'';var r=this;this.populate=function(){return r._populate.call(r)};this.unbind=function(){return r._unbind.call(r)};this.bind()};e.extend(i.viewsUi.FormFieldFiller.prototype,{bind:function(){this.unbind();this.source.on('keyup.viewsUi change.viewsUi',this.populate);this.target.on('focus.viewsUi',this.unbind)},getTransliterated:function(){var e=this.source.length?this.source[0].value:'';if(this.exclude){e=e.toLowerCase().replace(this.exclude,this.replace)};return e},_populate:function(){var t=this.getTransliterated(),i=this.suffix;this.target.each(function(r){var o=e(this).attr('maxlength')-i.length;this.value=t.substr(0,o)+i})},_unbind:function(){this.source.off('keyup.viewsUi change.viewsUi',this.populate);this.target.off('focus.viewsUi',this.unbind)},rebind:function(e){this.target=e;this.bind()}});i.behaviors.addItemForm={attach:function(t){var r=e(t),o=r;if(!r.is('form[id^="views-ui-add-handler-form"]')){o=r.find('form[id^="views-ui-add-handler-form"]')};if(once('views-ui-add-handler-form',o).length){new i.viewsUi.AddItemForm(o)}}};i.viewsUi.AddItemForm=function(i){this.$form=i;this.$form.find('.views-filterable-options :checkbox').on('click',e.proxy(this.handleCheck,this));this.$selected_div=this.$form.find('.views-selected-options').parent();this.$selected_div.hide();this.checkedItems=[]};i.viewsUi.AddItemForm.prototype.handleCheck=function(i){var r=e(i.target),o=r.closest('td').next().html().trim();if(r.is(':checked')){this.$selected_div.show().css('display','block');this.checkedItems.push(o)}
else{var s=e.inArray(o,this.checkedItems);for(var t=0;t<this.checkedItems.length;t++){if(t===s){this.checkedItems.splice(t,1);t--;break}};if(this.checkedItems.length===0){this.$selected_div.hide()}};this.refreshCheckedItems()};i.viewsUi.AddItemForm.prototype.refreshCheckedItems=function(){this.$selected_div.find('.views-selected-options').html(this.checkedItems.join(', ')).trigger('dialogContentResize')};i.behaviors.viewsUiRenderAddViewButton={attach:function(t){var n=once('views-ui-render-add-view-button','#views-display-menu-tabs',t);if(!n.length){return};var r=e(n),o=e('<li class="add"><a href="#"><span class="icon add"></span>'.concat(i.t('Add'),'</a><ul class="action-list" style="display:none;"></ul></li>')),s=r.nextAll('input.add-display').detach();s.appendTo(o.find('.action-list')).wrap('<li>').parent().eq(0).addClass('first').end().eq(-1).addClass('last');s.each(function(){var i=e(this);this.value=i.attr('data-drupal-dropdown-label')});o.appendTo(r);r.find('li.add > a').on('click',function(t){t.preventDefault();var r=e(this);i.behaviors.viewsUiRenderAddViewButton.toggleMenu(r)});e('li.add',r).on('mouseleave',function(t){var r=e(this),o=r.children('a[href="#"]');if(r.children('.action-list').is(':visible')){i.behaviors.viewsUiRenderAddViewButton.toggleMenu(o)}})}};i.behaviors.viewsUiRenderAddViewButton.toggleMenu=function(e){e.parent().toggleClass('open');e.next().slideToggle('fast')};i.behaviors.viewsUiSearchOptions={attach:function(t){var r=e(t),o=r;if(!r.is('form[id^="views-ui-add-handler-form"]')){o=r.find('form[id^="views-ui-add-handler-form"]')};if(once('views-ui-filter-options',o).length){new i.viewsUi.OptionsSearch(o)}}};i.viewsUi.OptionsSearch=function(i){this.$form=i;this.$form.on('click','td.title',function(i){var t=e(i.currentTarget);t.closest('tr').find('input').trigger('click')});var t='[data-drupal-selector="edit-override-controls-options-search"]',r='[data-drupal-selector="edit-override-controls-group"]';this.$form.on('formUpdated',''.concat(t,',').concat(r),e.proxy(this.handleFilter,this));this.$searchBox=this.$form.find(t);this.$controlGroup=this.$form.find(r);this.options=this.getOptions(this.$form.find('.filterable-option'));this.$searchBox.on('keypress',function(e){if(e.which===13){e.preventDefault()}})};e.extend(i.viewsUi.OptionsSearch.prototype,{getOptions:function(i){var o,s,r,n=[],a=i.length;for(var t=0;t<a;t++){r=e(i[t]);o=r.find('.title');s=r.find('.description');n[t]={searchText:''.concat(o[0].textContent.toLowerCase(),' ').concat(s[0].textContent.toLowerCase(),'\n              .toLowerCase()}'),$div:r}};return n},handleFilter:function(i){var t=this.$searchBox[0].value.toLowerCase(),o=t.split(' '),r=this.$controlGroup[0].value;this.options.forEach(function(e){function s(i){return e.searchText.indexOf(i)!==-1};var i=!0;if(t){i=o.every(s)};if(i&&r!=='all'){i=e.$div.hasClass(r)};e.$div.toggle(i)});e(i.target).trigger('dialogContentResize')}});i.behaviors.viewsUiPreview={attach:function(i){var t=e(i).find('.views-display-column .views-ui-display-tab-bucket.argument');if(t.length===0){return};var r=t.find('.views-display-setting a');if(r.length){e('#preview-args').parent().show()}
else{e('#preview-args').parent().hide()};if(e(once('edit-displays-live-preview','#edit-displays-live-preview')).is(':checked')){e(once('edit-displays-live-preview','#preview-submit')).trigger('click')}}};i.viewsUi.RearrangeFilterHandler=function(i,t){this.table=i;this.operator=t;this.hasGroupOperator=this.operator.length>0;this.draggableRows=i.find('.draggable');this.addGroupButton=e('#views-add-group');this.removeGroupButtons=i.find('.views-remove-group');this.insertAddRemoveFilterGroupLinks();if(this.hasGroupOperator){this.dropdowns=this.duplicateGroupsOperator();this.syncGroupsOperators()};this.modifyTableDrag();this.redrawOperatorLabels();e(once('views-rearrange-filter-handler',i.find('.views-group-title select'))).on('change.views-rearrange-filter-handler',e.proxy(this,'redrawOperatorLabels'));e(once('views-rearrange-filter-handler',i.find('a.views-groups-remove-link'))).on('click.views-rearrange-filter-handler',e.proxy(this,'updateRowspans')).on('click.views-rearrange-filter-handler',e.proxy(this,'redrawOperatorLabels'))};e.extend(i.viewsUi.RearrangeFilterHandler.prototype,{insertAddRemoveFilterGroupLinks:function(){e(once('views-rearrange-filter-handler',e('<ul class="action-links"><li><a id="views-add-group-link" href="#">'.concat(this.addGroupButton[0].value,'</a></li></ul>')).prependTo(this.table.parent()))).find('#views-add-group-link').on('click.views-rearrange-filter-handler',e.proxy(this,'clickAddGroupButton'));var s=this.removeGroupButtons.length,t;for(t=0;t<s;t++){var r=e(this.removeGroupButtons[t]),o=r.attr('id');e(once('views-rearrange-filter-handler',e('<a href="#" class="views-remove-group-link">'.concat(i.t('Remove group'),'</a>')).insertBefore(r))).on('click.views-rearrange-filter-handler',{buttonId:o},e.proxy(this,'clickRemoveGroupButton'))}},clickAddGroupButton:function(e){this.addGroupButton.trigger('mousedown');e.preventDefault()},clickRemoveGroupButton:function(e){this.table.find('#'.concat(e.data.buttonId)).trigger('mousedown');e.preventDefault()},duplicateGroupsOperator:function(){var i,t,s=once('duplicateGroupsOperator','tr.views-group-title');if(!s.length){return this.operator};this.operator.find('label').add('div.description').addClass('visually-hidden');this.operator.find('select').addClass('form-select');var n=this.operator;t=e('tr#views-group-title-2');i=e('<tr class="filter-group-operator-row"><td colspan="5"></td></tr>');i.find('td').append(this.operator);i.insertBefore(t);var a=s.length;for(var o=2;o<a;o++){t=e(s[o]);var r=this.operator.clone();r.attr('id','');i=e('<tr class="filter-group-operator-row"><td colspan="5"></td></tr>');i.find('td').append(r);i.insertBefore(t);n.add(r)};return n},syncGroupsOperators:function(){if(this.dropdowns.length<2){return};this.dropdowns.on('change',e.proxy(this,'operatorChangeHandler'))},operatorChangeHandler:function(i){var t=e(i.target),r=this.dropdowns.find('select').not(t);r.each(function(e,i){i.value=t[0].value})},modifyTableDrag:function(){var r=i.tableDrag['views-rearrange-filters'],t=this;r.row.prototype.onSwap=function(){if(t.hasGroupOperator){var o=e(this.group),i=o.prev('tr');if(i.length&&!i.hasClass('group-message')&&!i.hasClass('draggable')){var r=o.next();if(r.is('tr')){this.swap('after',r)}};t.updateRowspans()};t.redrawOperatorLabels()};r.onDrop=function(){var r=e(this.oldRowElement).find('.tabledrag-changed');if(r.length){var o=r.prevAll('.views-operator-label');if(o.length){o.insertAfter(r)}};var n=e(this.rowObject.element).prevAll('tr.group-message').get(0),t=n.className.replace(/([^ ]+[ ]+)*group-([^ ]+)-message([ ]+[^ ]+)*/,'$2'),i=e('select.views-group-select',this.rowObject.element);if(!i.is('.views-group-select-'.concat(t))){var s=i.attr('class').replace(/([^ ]+[ ]+)*views-group-select-([^ ]+)([ ]+[^ ]+)*/,'$2');i.removeClass('views-group-select-'.concat(s)).addClass('views-group-select-'.concat(t));i[0].value=t}}},redrawOperatorLabels:function(){for(var o=0;o<this.draggableRows.length;o++){var t=e(this.draggableRows[o]),r=t.find('td').eq(0);if(r.length){var n=t.prevAll('.views-group-title').find('option:selected').html(),s='<span class="views-operator-label">'.concat(n,'</span>'),a=t.nextAll(':visible').eq(0),i=r.find('.views-operator-label');if(a.hasClass('draggable')){if(i.length){i.replaceWith(s)}
else{r.append(s)}}
else{i.remove()}}}},updateRowspans:function(){var i,r,o,s,n=e(this.table).find('tr'),a=n.length;for(var t=0;t<a;t++){i=e(n[t]);if(i.hasClass('views-group-title')){s=i.find('td.group-operator');o=0;r=i.next('tr');r.removeClass('group-populated').addClass('group-empty');s.attr('rowspan',2)}
else if(i.hasClass('draggable')&&i.is(':visible')){o++;r.removeClass('group-empty').addClass('group-populated');s.attr('rowspan',o+1)}}}});i.behaviors.viewsFilterConfigSelectAll={attach:function(i){var s=once('filterConfigSelectAll','.js-form-item-options-value-all',i);if(s.length){var t=e(s),r=t.find('input[type=checkbox]'),o=t.closest('.form-checkboxes').find('.js-form-type-checkbox:not(.js-form-item-options-value-all) input[type="checkbox"]');t.show();r.on('click',function(){o.prop('checked',e(this).is(':checked'))});o.on('click',function(){if(e(this).is('checked')===!1){r.prop('checked',!1)}})}}};i.behaviors.viewsRemoveIconClass={attach:function(i){e(once('dropbutton-icon','.dropbutton',i)).find('.icon').removeClass('icon')}};i.behaviors.viewsUiCheckboxify={attach:function(e,t){var r=once('views-ui-checkboxify','[data-drupal-selector="edit-options-expose-button-button"], [data-drupal-selector="edit-options-group-button-button"]').forEach(function(e){return new i.viewsUi.Checkboxifier(e)})}};i.behaviors.viewsUiChangeDefaultWidget={attach:function(i){var t=e(i);function r(i){if(e(i.target).prop('checked')){t.find('input.default-radios').parent().hide();t.find('td.any-default-radios-row').parent().hide();t.find('input.default-checkboxes').parent().show()}
else{t.find('input.default-checkboxes').parent().hide();t.find('td.any-default-radios-row').parent().show();t.find('input.default-radios').parent().show()}};t.find('input[name="options[group_info][multiple]"]').on('change',r).trigger('change')}};i.viewsUi.Checkboxifier=function(i){this.$button=e(i);this.$parent=this.$button.parent('div.views-expose, div.views-grouped');this.$input=this.$parent.find('input:checkbox, input:radio');this.$button.hide();this.$parent.find('.exposed-description, .grouped-description').hide();this.$input.on('click',e.proxy(this,'clickHandler'))};i.viewsUi.Checkboxifier.prototype.clickHandler=function(e){this.$button.trigger('click').trigger('submit')};i.behaviors.viewsUiOverrideSelect={attach:function(t){once('views-ui-override-button-text','[data-drupal-selector="edit-override-dropdown"]',t).forEach(function(r){var s=e(t),o=t.querySelector('[id^=edit-submit]'),n=o?o.value:'';e(once('views-ui-override-button-text',o)).on('mouseup',function(){this.value=n;return!0});e(r).on('change',function(){if(!o){return};if(this.value==='default'){o.value=i.t('Apply (all displays)')}
else if(this.value==='default_revert'){o.value=i.t('Revert to default')}
else{o.value=i.t('Apply (this display)')};var e=s.closest('.ui-dialog-content');e.trigger('dialogButtonsChange')}).trigger('change')})}};i.behaviors.viewsUiHandlerRemoveLink={attach:function(i){var t=e(i);e(once('views','a.views-remove-link',i)).on('click',function(i){var r=e(this).attr('id').replace('views-remove-link-','');t.find('#views-row-'.concat(r)).hide();t.find('#views-removed-'.concat(r)).prop('checked',!0);i.preventDefault()});e(once('display','a.display-remove-link',i)).on('click',function(i){var r=e(this).attr('id').replace('display-remove-link-','');t.find('#display-row-'.concat(r)).hide();t.find('#display-removed-'.concat(r)).prop('checked',!0);i.preventDefault()})}};i.behaviors.viewsUiRearrangeFilter={attach:function(t){if(typeof i.tableDrag==='undefined'||typeof i.tableDrag['views-rearrange-filters']==='undefined'){return};var r=once('views-rearrange-filters','#views-rearrange-filters',t),o=once('views-rearrange-filters','.js-form-item-filter-groups-operator',t);if(r.length){new i.viewsUi.RearrangeFilterHandler(e(r),e(o))}}}})(jQuery,Drupal,drupalSettings);
/* Source and licensing information for the above line(s) can be found at http://www.snorkellifts.com/core/modules/views_ui/js/views-admin.js. */